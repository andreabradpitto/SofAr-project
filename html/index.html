<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.19"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Baxter teleoperation project: SofAr-project</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.jpeg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Baxter teleoperation project
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Documentation for the baxter teleoperation project</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.19 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">SofAr-project </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p align="center"><a class="anchor" id="md_README"></a> </p>
<p>&lt;img height="500" width="500" src="https://github.com/andreabradpitto/SofAr-project/blob/master/Images%20and%20multimedia/Image.jpeg?raw=true "Title""&gt; </p>
<p>The project's goal was to design and implement a software component for the teleoperation of the Baxter robot simulation in Coppelia. The teleoperation works as follows: the human operator moves its arm keeping a smartphone into its hand, and the sensor data from the smartphone's IMU is sent to the software and used to allow Baxter's end-effector to follow the trajectory and orientation of the human hand. <br  />
 The project's original goal was actually to not only track the end-effector's configuration, but also to replicate the motion of the human arm into Baxter's, using Mocap technology; this idea, as well as the objective of using the software on the real robot, were later rejected due to the Covid emergence and the consequent impossibility of access the EMARO Lab. <br  />
 Unfortunately, the elimination of the position measurement with the motion capture do not allow the perfect tracking, but the developed modules try to work inside this limitation. <br  />
</p>
<h2><a class="anchor" id="autotoc_md2"></a>
Prerequisites</h2>
<p>In order to run this software, the following prerequisites are needed: <br  />
</p><ul>
<li><a href="http://wiki.ros.org/kinetic/Installation/Ubuntu">ROS kinetic</a>, <br  />
</li>
<li><a href="https://www.coppeliarobotics.com/helpFiles/en/ros1Tutorial.htm">CoppeliaSim Edu V4</a> (which has to be linked with ROS), <br  />
</li>
<li><a href="https://releases.ubuntu.com/16.04/">Ubuntu 16.04</a>(Other Ubuntu versions may work, but this is the offcialy supported one by ROS kinetic, as well as the one on which all this code was produced.) <br  />
</li>
</ul>
<p>Then, it is required to install the app on an Android mobile phone. Unzip <em>org.ros.android.android_tutorial_camera_imu_1.0.apk</em> in order to install the <em>CameraImu</em> app in your smartphone. Warning: the app works best with Android 8.1 or older; earlier OS versions may cause frequent freezes/crashes <br  />
 Moreover, launching the software on a virtual machine cause great instability, so, it is strongly adviced against. <br  />
 In the testing phase, the following hardware characteristic were found to work discretely, which is why they are going to be taken as advised configuration. <br  />
 Characteristics: <br  />
</p><ul>
<li>i5 processors, 3.1GHz, 2 cores</li>
<li>8GB DDR4 SDRAM</li>
<li>256 GB SSD memory</li>
<li>103.5GB dedicated to Ubuntu ( in testing 39.2GB of memory were used)</li>
</ul>
<h2><a class="anchor" id="autotoc_md3"></a>
Installing</h2>
<p>In order to have a working version of this package running on your computer, you need to: <br  />
</p><ul>
<li>Place the package in the src folder of your src foulder of the catkin workspace, and having it named "SofAr-project"</li>
<li>In case the folder "SofAr-project/Math/imu_calib" is empty, you can solve it with the same code <div class="fragment"><div class="line">cd SofAr-project/Smartphone</div>
<div class="line">rm <a class="code" href="namespaceimu__calib.html">imu_calib</a></div>
<div class="line">git clone https:<span class="comment">//github.com/dpkoch/imu_calib</span></div>
</div><!-- fragment --></li>
<li>Have the Coppelia environment foulder in any place under the HOME directory (it is advised to put it on the Desktop or directly in HOME)</li>
<li>If you don't have the following libraries installed on your system procede with this code <div class="fragment"><div class="line">python -m pip install numpy</div>
<div class="line">python -m pip install -U matplotlib</div>
<div class="line">sudo apt-get install python-pandas</div>
<div class="line">sudo apt-get install python-scipy</div>
<div class="line">sudo apt-get install ros-kinetic-cmake-modules</div>
</div><!-- fragment --></li>
<li>Change the current directory to "SofAr-project" and activate the <a class="el" href="install_8sh.html">install.sh</a> script <div class="fragment"><div class="line">cd <span class="stringliteral">&quot;Your catkin workspace&quot;</span>/src/SofAr-project</div>
<div class="line">chmod +x install.sh</div>
</div><!-- fragment --></li>
<li>Install the package via dedicated script <div class="fragment"><div class="line">./install.sh</div>
</div><!-- fragment --></li>
</ul>
<h2><a class="anchor" id="autotoc_md4"></a>
Running the tests: running the simulation without the smartphone to inspect that the simulation is working</h2>
<p>In order to see a test of the working system (without the smartphone application sending signals), proceed with the following commands </p><div class="fragment"><div class="line">cd <span class="stringliteral">&quot;Your catkin workspace&quot;</span>/src/SofAr-project</div>
<div class="line">./launcher_test.sh</div>
</div><!-- fragment --><p>When all components are open, find the user interface (the terminal where you have launched the system and the only one asking for the user input). <br  />
 There you can type "help" and enter to obtain the command list, or you can type "start" and enter to start the animation. <br  />
 At any moment, you can type "pause" or "stop" to interrupt the simulation and respectively stay in the position or return to the starting one. <br  />
 When stopped (not paused) you can type "set_default" to set the starting configuration. <br  />
 Once you are done, you can type "exit" and press enter to close all this project components. <br  />
 The movement that should be obtained in this test is the increment of the first joint angular position, as can be seen in the animation. <br  />
 </p><div align="center"> <img src="https://github.com/andreabradpitto/SofAr-project/blob/master/Images%20and%20multimedia/Animated%20GIF-downsized_large.gif" alt="" height="500" width="500" class="inline"/> </div><h2><a class="anchor" id="autotoc_md5"></a>
Deployment</h2>
<p>Here we are going to present how to use the software to attempt a tracking of the user arm using the data from the smartphone sensor. <br  />
 Note: when you are asked to take the phone in your hand during the procedures, you are to take it in your right hand, arm stretched, horizontal and at more or less 45 degrees with respect to the plane of the chest, with the smartphone screen vertical, facing you, and the camera in the direction of the thumb. When you give the command "calibration", you can take it as you are most comfortable. <br  />
 To use the whole system at once, the following action have to take place: <br  />
</p><ul>
<li>Start the smartphone application</li>
<li>Verify the IP address to be inserted in the app <div class="fragment"><div class="line">hostname -I</div>
</div><!-- fragment --></li>
<li>Start the software on the computer with the following commands <div class="fragment"><div class="line">cd <span class="stringliteral">&quot;Your catkin workspace&quot;</span>/src/SofAr-project</div>
<div class="line">./launcher.sh</div>
</div><!-- fragment --></li>
<li>Find the terminal in which you started the software and follow the instructions written on it always checking the app is working properly (you can look at the terminal printing the linear acceleration, orientation and angular velocity)</li>
<li>Once all the instructions are completed and the Coppelia environment opened, with the smartphone hand still type "calibration" and press enter <br  />
</li>
<li>When you are done you can type "start" and procede with the movement</li>
</ul>
<p>After the command "calibration", you can apply every other string presented in the section "Running test". <br  />
 When you type start, be sure you are more or less in the same configuration as baxter.</p>
<h2><a class="anchor" id="autotoc_md6"></a>
Versioning</h2>
<p>We use <a href="http://semver.org/">SemVer</a> for versioning. For the versions available, see the <a href="https://github.com/your/project/tags">tags on this repository</a>.</p>
<h2><a class="anchor" id="autotoc_md7"></a>
Authors</h2>
<p><a href="https://github.com/marcodemutti">Marco Demutti</a>, <a href="https://github.com/mattedicenzi">Matteo Dicenzi</a>, <a href="https://github.com/VinDp">Vincenzo Di Pentima</a>, <a href="https://github.com/RobElena">Elena Merlo</a>, <a href="https://github.com/Matt98x">Matteo Palmas</a>, <a href="https://github.com/andreabradpitto">Andrea Pitto</a>, <a href="https://github.com/emanuelericcardo">Emanuele Rosi</a>, <a href="https://github.com/ChiaraSapo">Chiara Saporetti</a>, <a href="https://github.com/Giulia24091997">Giulia Scorza Azzarà</a>, <a href="https://github.com/LucaTars">Luca Tarasi</a>, <a href="https://github.com/Cavalletta98">Simone Voto</a>, <a href="https://github.com/Geraldone">Gerald Xhaferaj</a></p>
<h2><a class="anchor" id="autotoc_md8"></a>
License</h2>
<p>This project is licensed under the MIT License - see the LICENSE.md file for details. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<div class="ttc" id="anamespaceimu__calib_html"><div class="ttname"><a href="namespaceimu__calib.html">imu_calib</a></div><div class="ttdef"><b>Definition:</b> <a href="accel__calib_8h_source.html#l00046">accel_calib.h:47</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.19
</small></address>
</body>
</html>
