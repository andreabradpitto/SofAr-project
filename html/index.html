<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.19"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Baxter teleoperation project: SofAr-project</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.jpeg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Baxter teleoperation project
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Documentation for the baxter teleoperation project</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.19 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">SofAr-project </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a>The project's goal was to design and implement a software component for the teleoperation of the Baxter robot simulation in Coppelia. The teleoperation works as follows: the human operator moves its arm keeping a smartphone into its hand, and the sensor data from the smartphone's IMU is sent to the software and used to allow Baxter's end-effector to follow the trajectory and orientation of the human hand. <br  />
 The project's original goal was actually to not only track the end-effector's configuration, but also to replicate the motion of the human arm into Baxter's, using Mocap technology; this idea, as well as the objective of using the software on the real robot, were later rejected due to the Covid emergence and the consequent impossibility of access the EMARO Lab. <br  />
 Unfortunately, the elimination of the position measurement with the motion capture do not allow the perfect tracking, but the developed modules try to work inside this limitation. <br  />
</p>
<h2><a class="anchor" id="autotoc_md2"></a>
Prerequisites</h2>
<p>It is of paramount importance to run</p>
<div class="fragment"><div class="line">sudo apt-get install ros-kinetic-cmake-modules</div>
</div><!-- fragment --><p>Furthermore, in order to run this software, the following prerequisites are needed: <a href="http://wiki.ros.org/kinetic/Installation/Ubuntu">ROS kinetic</a>, <a href="https://www.coppeliarobotics.com/helpFiles/en/ros1Tutorial.htm">CoppeliaSim Edu V4</a>, Ubuntu 16.04. Other Ubuntu versions may work, but this is the offcialy supported one by ROS kinetic, as well as the one on which all this code was produced.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Installing</h2>
<p>Obtain a copy of this component</p><ul>
<li>If the copy is not inside the ROS workspace source folder, copy the component folder "baxter" from its current position to it, using the graphic interface or the shell command</li>
</ul>
<div class="fragment"><div class="line">mv V-rep /absolute/path/of/catkin/workspace/src/V-rep</div>
</div><!-- fragment --><ul>
<li>Activate the bash scripts</li>
</ul>
<div class="fragment"><div class="line">cd /absolute/path/of/catkin/workspace/src/V-rep</div>
<div class="line">cd src</div>
<div class="line">chmod +x logger_launcher.sh</div>
<div class="line">chmod +x coppelialaucher.sh</div>
</div><!-- fragment --><ul>
<li>Do a catkin make inside the catkin workspace main folder</li>
</ul>
<div class="fragment"><div class="line">cd /absolute/path/of/catkin/workspace/</div>
<div class="line">catkin_make</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md4"></a>
Running the tests: running the simulation with a DUMMY publisher in order to check whether it’s working.</h1>
<ul>
<li>Digit "roslaunch V-rep baxter_test.launch" and press enter. In order to start up a master and all this component involved nodes is simply needed to call the launch file baxter_test.launch by digiting on the shell the command line</li>
</ul>
<div class="fragment"><div class="line">roslaunch V-rep baxter_test.launch</div>
</div><!-- fragment --><p>By doing this the CoppeliaSim environment will be opened on the correct scene. Use the user interface to handle the simulation. At this point on the shell a message occurs inviting the user to write a command on it. If you digit ‘help’ a list of all the possible commands is shown. In particular you can: -start the simulation (‘start’); -set the IMU reference system such that it coincides with the human end effector one (‘calibration’); -put the simulation in pause in order to restart from the last configuration you reached (‘pause’); -stop the simulation (‘stop’) leading the robot arm to the default configuration; -set a default configuration you like for each one of the 7 joints (‘set_default’). In the original default configuration each joint is set to 0. -close the user interface, all the running topics and the simulator environment ('exit')</p>
<p>To change the input rate, the shell commands from inside the “V-rep” folder are:</p>
<div class="fragment"><div class="line">cd src</div>
<div class="line">gedit publisher_ROS_VREP</div>
</div><!-- fragment --><p>At line 41 the rate can be changed.</p>
<div class="fragment"><div class="line">ros::Rate loop_rate(110);</div>
</div><!-- fragment --><p>Then, after saving the file, back again in the shell:</p>
<div class="fragment"><div class="line">cd ..</div>
<div class="line">cd ..</div>
<div class="line">cd ..</div>
<div class="line">catkin_make</div>
</div><!-- fragment --><p>In order to apply the changes.</p>
<h1><a class="anchor" id="autotoc_md5"></a>
Deployment</h1>
<p>To deploy to a live system the procedures are identical to the one observed in the test, with the only exception of the roslaunch to activate which is baxter_sim.launch and the fact that the system needs to publish to the simulation component.</p>
<div class="fragment"><div class="line">roslaunch V-rep baxter_sim.launch</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md6"></a>
Versioning</h1>
<p>We use <a href="http://semver.org/">SemVer</a> for versioning. For the versions available, see the <a href="https://github.com/your/project/tags">tags on this repository</a>.</p>
<h1><a class="anchor" id="autotoc_md7"></a>
Authors</h1>
<p><a href="https://github.com/marcodemutti">Marco Demutti</a>, <a href="https://github.com/mattedicenzi">Matteo Dicenzi</a>, <a href="https://github.com/VinDp">Vincenzo Di Pentima</a>, <a href="https://github.com/RobElena">Elena Merlo</a>, <a href="https://github.com/Matt98x">Matteo Palmas</a>, <a href="https://github.com/andreabradpitto">Andrea Pitto</a>, <a href="https://github.com/emanuelericcardo">Emanuele Rosi</a>, <a href="https://github.com/ChiaraSapo">Chiara Saporetti</a>, <a href="https://github.com/Giulia24091997">Giulia Scorza Azzarà</a>, <a href="https://github.com/LucaTars">Luca Tarasi</a>, <a href="https://github.com/Cavalletta98">Simone Voto</a>, <a href="https://github.com/Geraldone">Gerald Xhaferaj</a></p>
<h1><a class="anchor" id="autotoc_md8"></a>
License</h1>
<p>This project is licensed under the MIT License - see the LICENSE.md file for details. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.19
</small></address>
</body>
</html>
