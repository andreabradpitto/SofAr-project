<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.19"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Baxter teleoperation project: imu_calib</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.jpeg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Baxter teleoperation project
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Documentation for the baxter teleoperation project</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.19 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">imu_calib </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This repository contains a ROS package with tools for computing and applying calibration parameters to IMU measurements.</p>
<h1><a class="anchor" id="autotoc_md10"></a>
Usage</h1>
<p>The package contains two nodes. The first computes the accelerometer calibration parameters and saves them to a YAML file, and needs to be run only once. After you have run this node to generate the YAML calibration file, the second node uses that file to apply the calibration to an uncalibrated IMU topic to produce a calibrated IMU topic.</p>
<h1><a class="anchor" id="autotoc_md11"></a>
Nodes</h1>
<h2><a class="anchor" id="autotoc_md12"></a>
do_calib</h2>
<p>Computes the accelerometer calibration parameters. It should be run directly with a rosrun in a terminal rather than from a launch file, since it requires keyboard input. After receiving the first IMU message, the node will prompt you to hold the IMU in a certain orientation and then press Enter to record measurements. After all 6 orientations are complete, the node will compute the calibration parameters and write them to the specified YAML file.</p>
<p>The underlying algorithm is a least-squares calibration approach based on and similar to that described in STMicroeletronics Application Note <a href="http://www.st.com/content/ccc/resource/technical/document/application_note/a0/f0/a0/62/3b/69/47/66/DM00119044.pdf/files/DM00119044.pdf/jcr:content/translations/en.DM00119044.pdf">AN4508</a>. Due to the nature of the algorithm, obtaining a good calibration requires fairly accurate positioning of the IMU along each of its axes.</p>
<h3><a class="anchor" id="autotoc_md13"></a>
Topics</h3>
<h4><a class="anchor" id="autotoc_md14"></a>
Subscribed Topics</h4>
<ul>
<li><code>imu</code> (sensor_msgs/Imu) <br  />
 The raw, uncalibrated IMU measurements</li>
</ul>
<h3><a class="anchor" id="autotoc_md15"></a>
Parameters</h3>
<ul>
<li><code>~calib_file</code> (string, default: "imu_calib.yaml") <br  />
 The file to which the calibration parameters will be written</li>
<li><code>~measurements</code> (int, default: 500) <br  />
 The number of measurements to collect for each orientation</li>
<li><code>~reference_acceleration</code> (double, default: 9.80665) <br  />
 The expected acceleration due to gravity</li>
</ul>
<h2><a class="anchor" id="autotoc_md16"></a>
apply_calib</h2>
<p>Applies the accelerometer calibration parameters computed by the do_calib node. Also optionally (enabled by default) computes the gyro biases at startup and subtracts them off.</p>
<h3><a class="anchor" id="autotoc_md17"></a>
Topics</h3>
<h4><a class="anchor" id="autotoc_md18"></a>
Subscribed Topics</h4>
<ul>
<li><code>raw</code> (sensor_msgs/Imu) <br  />
 The raw, uncalibrated IMU measurements</li>
</ul>
<h4><a class="anchor" id="autotoc_md19"></a>
Published Topics</h4>
<ul>
<li><code>corrected</code> (sensor_msgs/Imu) <br  />
 The corrected, calibrated IMU measurements</li>
</ul>
<h3><a class="anchor" id="autotoc_md20"></a>
Parameters</h3>
<ul>
<li><code>~calib_file</code> (string, default: "imu_calib.yaml") <br  />
 The file from which to read the calibration parameters</li>
<li><code>~calibrate_gyros</code> (bool, default: true) <br  />
 Whether to compute gyro biases at startup and subsequently subtract them off</li>
<li><code>~gyro_calib_samples</code> (int, default: 100) <br  />
 The number of measurements to use for computing the gyro biases </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.19
</small></address>
</body>
</html>
