<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.19"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Baxter teleoperation project: Errors Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.jpeg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Baxter teleoperation project
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Documentation for the baxter teleoperation project</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.19 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Errors Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7f71b26e98bdf8ea46cc8a836554915b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceErrors.html#a7f71b26e98bdf8ea46cc8a836554915b">ang_mis</a> (<a class="el" href="namespaceErrors.html#a023b701c62a5148c5404d9551205c56d">Rg</a>, <a class="el" href="namespaceErrors.html#aa04a1cb38d02a2489c3216d0888ad17c">Re</a>)</td></tr>
<tr class="memdesc:a7f71b26e98bdf8ea46cc8a836554915b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the angular misalignment between goal frame and e.e.  <a href="namespaceErrors.html#a7f71b26e98bdf8ea46cc8a836554915b">More...</a><br /></td></tr>
<tr class="separator:a7f71b26e98bdf8ea46cc8a836554915b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74d369a1fac64e8a873da2dccf29b610"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceErrors.html#a74d369a1fac64e8a873da2dccf29b610">errors</a> (data)</td></tr>
<tr class="memdesc:a74d369a1fac64e8a873da2dccf29b610"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the errors needed by the inverse kinematics algorithms.  <a href="namespaceErrors.html#a74d369a1fac64e8a873da2dccf29b610">More...</a><br /></td></tr>
<tr class="separator:a74d369a1fac64e8a873da2dccf29b610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c943ecf9e79fec7d2edc67cf759e9af"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceErrors.html#a6c943ecf9e79fec7d2edc67cf759e9af">errors_node</a> ()</td></tr>
<tr class="separator:a6c943ecf9e79fec7d2edc67cf759e9af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0d9c70e857a30fb1cd960b97e3e8a229"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceErrors.html#a0d9c70e857a30fb1cd960b97e3e8a229">pub</a> = rospy.Publisher('<a class="el" href="namespaceErrors.html#a74d369a1fac64e8a873da2dccf29b610">errors</a>', Float64MultiArray, queue_size=10)</td></tr>
<tr class="separator:a0d9c70e857a30fb1cd960b97e3e8a229"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a023b701c62a5148c5404d9551205c56d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceErrors.html#a023b701c62a5148c5404d9551205c56d">Rg</a> = np.zeros((3,3))</td></tr>
<tr class="separator:a023b701c62a5148c5404d9551205c56d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa04a1cb38d02a2489c3216d0888ad17c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceErrors.html#aa04a1cb38d02a2489c3216d0888ad17c">Re</a> = np.zeros((3,3))</td></tr>
<tr class="separator:aa04a1cb38d02a2489c3216d0888ad17c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a207e0aed7e68aa47d2e8962d266d79ae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceErrors.html#a207e0aed7e68aa47d2e8962d266d79ae">xg</a> = np.zeros((3,1))</td></tr>
<tr class="separator:a207e0aed7e68aa47d2e8962d266d79ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69195579482cb38bc0acf33580ce5718"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceErrors.html#a69195579482cb38bc0acf33580ce5718">xe</a> = np.zeros((3,1))</td></tr>
<tr class="separator:a69195579482cb38bc0acf33580ce5718"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15d70e1c6625465d323cab0f7be6c012"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceErrors.html#a15d70e1c6625465d323cab0f7be6c012">vg</a> = np.zeros((3,1))</td></tr>
<tr class="separator:a15d70e1c6625465d323cab0f7be6c012"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a073280aada8fd1740c55bd2dcbf7a2ca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceErrors.html#a073280aada8fd1740c55bd2dcbf7a2ca">ve</a> = np.zeros((3,1))</td></tr>
<tr class="separator:a073280aada8fd1740c55bd2dcbf7a2ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a7f71b26e98bdf8ea46cc8a836554915b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f71b26e98bdf8ea46cc8a836554915b">&#9670;&nbsp;</a></span>ang_mis()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Errors.ang_mis </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Rg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Re</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the angular misalignment between goal frame and e.e. </p>
<p>frame. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Rg</td><td>goal orientation matrix. </td></tr>
    <tr><td class="paramname">Re</td><td>end effector orientation matrix. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>rho: misalignment vector. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Errors_8py_source.html#l00022">22</a> of file <a class="el" href="Errors_8py_source.html">Errors.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">def </span><a class="code" href="namespaceErrors.html#a7f71b26e98bdf8ea46cc8a836554915b">ang_mis</a>(Rg, Re):</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="stringliteral">    Computes the angular misalignment between goal frame and e.e. frame.</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="stringliteral">    @param Rg: goal orientation matrix.</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="stringliteral">    @param Re: end effector orientation matrix.</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="stringliteral">    @return rho: misalignment vector.</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    i = np.transpose(np.array([[1, 0, 0]]))</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    j = np.transpose(np.array([[0, 1, 0]]))</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    k = np.transpose(np.array([[0, 0, 1]]))</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    skew_i = np.array([[0, 0, 0],</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                     [0, 0, -1],</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;                     [0, 1, 0]])</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    skew_j = np.array([[0, 0, 1],</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                     [0, 0, 0],</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                     [-1, 0, 0]])</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    skew_k = np.array([[0, -1, 0],</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                     [1, 0, 0],</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                     [0, 0, 0]])</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="comment"># this term equals 1 + 2cos(theta), with theta the misalignement angle</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    summ = np.dot(np.transpose(np.dot(Re, i)), np.dot(Rg, i)) + np.dot(np.transpose(np.dot(Re, j)), np.dot(Rg, j)) + np.dot(np.transpose(np.dot(Re, k)), np.dot(Rg, k))</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    Re_ = np.transpose(Re)</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="comment"># this term equals 2*v*sin(theta), with v the angular misalignement vector</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    prod = np.dot(np.dot(Re, np.dot(skew_i, Re_)), np.dot(Rg, i)) + np.dot(np.dot(Re, np.dot(skew_j, Re_)), np.dot(Rg, j)) + np.dot(np.dot(Re, np.dot(skew_k, Re_)), np.dot(Rg, k))</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    delta = (summ - 1)/2 <span class="comment"># = cos(theta)</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">if</span> np.absolute(delta) &lt; 1:</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        theta = np.arccos(delta)</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        v = prod/(2*np.sin(theta))</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        v = v/(np.linalg.norm(v))</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        rho = theta*v</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">elif</span> delta == 1:</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="comment"># theta multiple of 2*k*pi</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        theta = 0</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        rho = np.array([[0, 0, 0]]).transpose()</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        theta = np.pi</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        summ1 = np.dot(Re, i) + np.dot(Re, j) + np.dot(Re, k) + np.dot(Rg, i) + np.dot(Rg, j) + np.dot(Rg, k)</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        v0 = summ1/(np.linalg.norm(summ1))</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        rho = theta*v0</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">return</span> rho</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
</div><!-- fragment -->
</div>
</div>
<a id="a74d369a1fac64e8a873da2dccf29b610"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74d369a1fac64e8a873da2dccf29b610">&#9670;&nbsp;</a></span>errors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Errors.errors </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the errors needed by the inverse kinematics algorithms. </p>
<p>Specifically it calculates the misaligned vector between the goal frame and e.e. frame, the error due to the position of the two frames and also the error due to velocity of the two frames. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>vector coming from forward kinematics node. Constains rotation matrices, vector positions and velocities. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="Errors_8py_source.html#l00073">73</a> of file <a class="el" href="Errors_8py_source.html">Errors.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="keyword">def </span><a class="code" href="namespaceErrors.html#a74d369a1fac64e8a873da2dccf29b610">errors</a>(data):</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="stringliteral">    Computes the errors needed by the inverse kinematics algorithms. Specifically</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="stringliteral">    it calculates the misaligned vector between the goal frame and e.e. frame, the</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="stringliteral">    error due to the position of the two frames and also the error due to velocity</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="stringliteral">    of the two frames.</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="stringliteral">    @param data: vector coming from forward kinematics node. Constains rotation matrices,</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="stringliteral">    vector positions and velocities.</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    Data = data.data</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keyword">global</span> Rg, Re, xg, xe, vg, ve</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="comment"># Moves along Data vector.</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    k = 0</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(3):</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;       <span class="keywordflow">for</span> j <span class="keywordflow">in</span> range(3):</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;         Rg[i][j] = Data[k+j]</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;       k = k + 3  </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(3):</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;       <span class="keywordflow">for</span> j <span class="keywordflow">in</span> range(3):</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;          Re[i][j] = Data[k+j]</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;       k = k + 3</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(3):</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;       xg[i][0] = Data[k+i]</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    k = k + 3</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(3):</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;       xe[i][0] = Data[k+i]</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    k = k + 3</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(3):</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;       vg[i][0] = Data[k+i]</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    k = k + 3</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(3):</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;       ve[i][0] = Data[k+i] </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="comment"># angular misalignment</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    rho = <a class="code" href="namespaceErrors.html#a7f71b26e98bdf8ea46cc8a836554915b">ang_mis</a>(Rg, Re)  </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="comment"># position error</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    eta = xg - xe</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="comment"># velocity error</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    ni = vg - ve</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="comment"># Send rho, eta, ni</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    err = np.array([rho[0], rho[1], rho[2], eta[0], eta[1], eta[2], ni[0], ni[1], ni[2]], dtype=np.float_)</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    errors = util.init_float64_multiarray(9, 1)</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    errors.data = err</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    pub.publish(errors)</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6c943ecf9e79fec7d2edc67cf759e9af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c943ecf9e79fec7d2edc67cf759e9af">&#9670;&nbsp;</a></span>errors_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Errors.errors_node </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Errors_8py_source.html#l00138">138</a> of file <a class="el" href="Errors_8py_source.html">Errors.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="keyword">def </span><a class="code" href="namespaceErrors.html#a6c943ecf9e79fec7d2edc67cf759e9af">errors_node</a>():</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="comment"># In ROS, nodes are uniquely named. If two nodes with the same</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment"># name are launched, the previous one is kicked off. The</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="comment"># anonymous=True flag means that rospy will choose a unique</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="comment"># name for our &#39;listener&#39; node so that multiple listeners can</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="comment"># run simultaneously.</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    rospy.init_node(<span class="stringliteral">&#39;errors_node&#39;</span>, anonymous=<span class="keyword">True</span>)</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="comment"># errors is the callback functions</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    rospy.Subscriber(<span class="stringliteral">&quot;Data_for_errors&quot;</span>, Float64MultiArray, errors)</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="comment"># spin() simply keeps python from exiting until this node is stopped</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    rospy.spin()  </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a0d9c70e857a30fb1cd960b97e3e8a229"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d9c70e857a30fb1cd960b97e3e8a229">&#9670;&nbsp;</a></span>pub</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Errors.pub = rospy.Publisher('<a class="el" href="namespaceErrors.html#a74d369a1fac64e8a873da2dccf29b610">errors</a>', Float64MultiArray, queue_size=10)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Errors_8py_source.html#l00009">9</a> of file <a class="el" href="Errors_8py_source.html">Errors.py</a>.</p>

</div>
</div>
<a id="aa04a1cb38d02a2489c3216d0888ad17c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa04a1cb38d02a2489c3216d0888ad17c">&#9670;&nbsp;</a></span>Re</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Errors.Re = np.zeros((3,3))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Errors_8py_source.html#l00013">13</a> of file <a class="el" href="Errors_8py_source.html">Errors.py</a>.</p>

</div>
</div>
<a id="a023b701c62a5148c5404d9551205c56d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a023b701c62a5148c5404d9551205c56d">&#9670;&nbsp;</a></span>Rg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Errors.Rg = np.zeros((3,3))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Errors_8py_source.html#l00012">12</a> of file <a class="el" href="Errors_8py_source.html">Errors.py</a>.</p>

</div>
</div>
<a id="a073280aada8fd1740c55bd2dcbf7a2ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a073280aada8fd1740c55bd2dcbf7a2ca">&#9670;&nbsp;</a></span>ve</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Errors.ve = np.zeros((3,1))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Errors_8py_source.html#l00020">20</a> of file <a class="el" href="Errors_8py_source.html">Errors.py</a>.</p>

</div>
</div>
<a id="a15d70e1c6625465d323cab0f7be6c012"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15d70e1c6625465d323cab0f7be6c012">&#9670;&nbsp;</a></span>vg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Errors.vg = np.zeros((3,1))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Errors_8py_source.html#l00019">19</a> of file <a class="el" href="Errors_8py_source.html">Errors.py</a>.</p>

</div>
</div>
<a id="a69195579482cb38bc0acf33580ce5718"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69195579482cb38bc0acf33580ce5718">&#9670;&nbsp;</a></span>xe</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Errors.xe = np.zeros((3,1))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Errors_8py_source.html#l00017">17</a> of file <a class="el" href="Errors_8py_source.html">Errors.py</a>.</p>

</div>
</div>
<a id="a207e0aed7e68aa47d2e8962d266d79ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a207e0aed7e68aa47d2e8962d266d79ae">&#9670;&nbsp;</a></span>xg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Errors.xg = np.zeros((3,1))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Errors_8py_source.html#l00016">16</a> of file <a class="el" href="Errors_8py_source.html">Errors.py</a>.</p>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="anamespaceErrors_html_a7f71b26e98bdf8ea46cc8a836554915b"><div class="ttname"><a href="namespaceErrors.html#a7f71b26e98bdf8ea46cc8a836554915b">Errors.ang_mis</a></div><div class="ttdeci">def ang_mis(Rg, Re)</div><div class="ttdoc">Computes the angular misalignment between goal frame and e.e.</div><div class="ttdef"><b>Definition:</b> <a href="Errors_8py_source.html#l00022">Errors.py:22</a></div></div>
<div class="ttc" id="anamespaceErrors_html_a6c943ecf9e79fec7d2edc67cf759e9af"><div class="ttname"><a href="namespaceErrors.html#a6c943ecf9e79fec7d2edc67cf759e9af">Errors.errors_node</a></div><div class="ttdeci">def errors_node()</div><div class="ttdef"><b>Definition:</b> <a href="Errors_8py_source.html#l00138">Errors.py:138</a></div></div>
<div class="ttc" id="anamespaceErrors_html_a74d369a1fac64e8a873da2dccf29b610"><div class="ttname"><a href="namespaceErrors.html#a74d369a1fac64e8a873da2dccf29b610">Errors.errors</a></div><div class="ttdeci">def errors(data)</div><div class="ttdoc">Computes the errors needed by the inverse kinematics algorithms.</div><div class="ttdef"><b>Definition:</b> <a href="Errors_8py_source.html#l00073">Errors.py:73</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.19
</small></address>
</body>
</html>
