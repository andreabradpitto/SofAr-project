\hypertarget{publisher__ROS__VREP_8cpp}{}\doxysection{V-\/rep/src/publisher\+\_\+\+R\+O\+S\+\_\+\+V\+R\+EP.cpp File Reference}
\label{publisher__ROS__VREP_8cpp}\index{V-\/rep/src/publisher\_ROS\_VREP.cpp@{V-\/rep/src/publisher\_ROS\_VREP.cpp}}
{\ttfamily \#include \char`\"{}stdlib.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}ros/ros.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}sensor\+\_\+msgs/\+Joint\+State.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{publisher__ROS__VREP_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{main}} (int argc, char $\ast$$\ast$argv)
\begin{DoxyCompactList}\small\item\em The main function initiates the R\+OS node that publishes some D\+U\+M\+MY input data (7 joint positions) on logtopic topic. These values can be constant or randomly generated depending on the commented portion of the code. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{publisher__ROS__VREP_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}\label{publisher__ROS__VREP_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}} 
\index{publisher\_ROS\_VREP.cpp@{publisher\_ROS\_VREP.cpp}!main@{main}}
\index{main@{main}!publisher\_ROS\_VREP.cpp@{publisher\_ROS\_VREP.cpp}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$$\ast$}]{argv }\end{DoxyParamCaption})}



The main function initiates the R\+OS node that publishes some D\+U\+M\+MY input data (7 joint positions) on logtopic topic. These values can be constant or randomly generated depending on the commented portion of the code. 



Definition at line 32 of file publisher\+\_\+\+R\+O\+S\+\_\+\+V\+R\+E\+P.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{33   \{}
\DoxyCodeLine{34 }
\DoxyCodeLine{35   ros::init(argc, argv, \textcolor{stringliteral}{"{}publisher\_ROS\_VREP"{}}); \textcolor{comment}{//initialize the ros sys, giving it a name }}
\DoxyCodeLine{36 }
\DoxyCodeLine{37   ros::NodeHandle n; \textcolor{comment}{//obj of NodeHandle class}}
\DoxyCodeLine{38 }
\DoxyCodeLine{39   ros::Publisher chatter\_pub = n.advertise<sensor\_msgs::JointState>(\textcolor{stringliteral}{"{}logtopic"{}}, 1000); \textcolor{comment}{//publisher advertisement }}
\DoxyCodeLine{40 }
\DoxyCodeLine{41   ros::Rate loop\_rate(110);\textcolor{comment}{//loop rate set at 110 Hz}}
\DoxyCodeLine{42 }
\DoxyCodeLine{43   \textcolor{comment}{//while loop -\/> we want to continue to publish messages, as long the node is alive}}
\DoxyCodeLine{44 }
\DoxyCodeLine{45   \textcolor{keywordflow}{while} (ros::ok())     }
\DoxyCodeLine{46   \{}
\DoxyCodeLine{47         sensor\_msgs::JointState msg; \textcolor{comment}{//declare our message variable}}
\DoxyCodeLine{48 }
\DoxyCodeLine{49         msg.position.resize(7); \textcolor{comment}{//set to 7 the array size}}
\DoxyCodeLine{50 }
\DoxyCodeLine{51     \textcolor{comment}{//constant command message (values between -\/1 and 1)}}
\DoxyCodeLine{52 }
\DoxyCodeLine{53     msg.position[0] = -\/0.2;}
\DoxyCodeLine{54     msg.position[1] = 0.9;}
\DoxyCodeLine{55     msg.position[2] = 0.8;}
\DoxyCodeLine{56     msg.position[3] = -\/0.58;}
\DoxyCodeLine{57     msg.position[4] = 1;}
\DoxyCodeLine{58     msg.position[5] = -\/0.3;}
\DoxyCodeLine{59     msg.position[6] = 0.04;}
\DoxyCodeLine{60 }
\DoxyCodeLine{61     \textcolor{comment}{//random command message (values between -\/1 and 1)}}
\DoxyCodeLine{62 }
\DoxyCodeLine{63     \textcolor{comment}{/*msg.position[0] =((rand()\%101)/(float)100 -\/ 0.5)*2;}}
\DoxyCodeLine{64 \textcolor{comment}{    msg.position[1] =((rand()\%101)/(float)100 -\/ 0.5)*2;}}
\DoxyCodeLine{65 \textcolor{comment}{    msg.position[2] =((rand()\%101)/(float)100 -\/ 0.5)*2;}}
\DoxyCodeLine{66 \textcolor{comment}{    msg.position[3] =((rand()\%101)/(float)100 -\/ 0.5)*2;}}
\DoxyCodeLine{67 \textcolor{comment}{    msg.position[4] =((rand()\%101)/(float)100 -\/ 0.5)*2;}}
\DoxyCodeLine{68 \textcolor{comment}{    msg.position[5] =((rand()\%101)/(float)100 -\/ 0.5)*2;}}
\DoxyCodeLine{69 \textcolor{comment}{    msg.position[6] =((rand()\%101)/(float)100 -\/ 0.5)*2;*/}}
\DoxyCodeLine{70 }
\DoxyCodeLine{71     msg.header.stamp = ros::Time::now();    }
\DoxyCodeLine{72 }
\DoxyCodeLine{73     \textcolor{comment}{//command message publishing}}
\DoxyCodeLine{74         chatter\_pub.publish(msg);}
\DoxyCodeLine{75 }
\DoxyCodeLine{76         ros::spinOnce();}
\DoxyCodeLine{77 }
\DoxyCodeLine{78     \textcolor{comment}{//wait for the next cycle}}
\DoxyCodeLine{79         loop\_rate.sleep();}
\DoxyCodeLine{80   \}}
\DoxyCodeLine{81 }
\DoxyCodeLine{82   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{83 }
\DoxyCodeLine{84 \}}

\end{DoxyCode}
